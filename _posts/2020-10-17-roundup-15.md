---
published: false
layout: post
category: python
title: Roundup 15 #nextcloud #mysql #mariadb #selfhosting 
---

## Hosting your own cloud aka Nextcloud

Wrestled this week a lot to self host a nextcloud 20 instance in a free GCP instance.

Well I first tried to do everything properly aka dockerized containerized with SSL and stuff. But failed miserably after 7 trials with clean VPS on GCP:
I ended up installing everything myself, I followed the steps in nextcloud website but failed with the permission issues though I was so close. Nextcloud instance was read only and not being able to write anything to vps.
So I switched to follow some instructions from some random blogs, after 3-4 trials, I found this one worked best:
Best tutorial ever: https://www.howtoforge.com/tutorial/how-to-install-nextcloud-on-debian-10/

Even I have Let's Encrypt SSL.

If you see random Server stopped working errors. It's highly likely that your mariadb server is down. Moreover you can not bring it back with simple `sudo systemctl restart mariadb` instead you need to kill hanging mariadb for good and then restart.


```bash
# Grab the PID from this command
ps aux | grep mariadb

# Insert your PID instead of 1234
sudo kill -9 1234 

# Now restart
sudo systemctl restart mariadb

# Voila, go to your nextcloud instance url and it will start syncing back.
```

The reason this is happening for me is that I was trying to sync large amount of files and causing some conflicts. So I quickly deleted them when the server is up and this is gone for good. Sync was seamless again.

##